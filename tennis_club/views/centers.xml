<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="action_centers_model" model="ir.actions.act_window">
        <field name="name">Centers</field>
        <field name="res_model">centers.model</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[("is_center", "=", True)]</field>
    </record>

    <menuitem
        id="menu_centers_root"
        name="Centers"
        action="action_centers_model"
    />

    <record id="view_centers_list" model="ir.ui.view">
        <field name="name">centers.model.list</field>
        <field name="model">centers.model</field>
        <field name="arch" type="xml">
            <list string="Centers">
                <field name="name"/>
                <field name="child_courts_ids" invisible="not is_center"/>
                <field name="main_manager_id" invisible="not is_center"/>
                <field name="working_hours_center_local" widget="text"/>
            </list>
        </field>
    </record>

    <record id="view_centers_form" model="ir.ui.view">
        <field name="name">centers.model.form</field>
        <field name="model">centers.model</field>
        <field name="arch" type="xml">
            <form string="Centers">
                <group>
                    <field name="name"/>
                    <field name="is_center"/>
                    <field name="child_courts_ids"
                           domain="[('is_center', '=', False)]"
                           invisible="not is_center"
                           widget="many2many_tags"/>
                    <field name="parent_center_id"
                           invisible="is_center"
                           domain="[('is_center', '=', True)]"/>
                    <field name="main_manager_id"
                           invisible="not is_center"/>
                    <field name="working_hours_center_utc"
                           invisible="not is_center"
                           widget="text"
                           readonly="1"/>
                    <field name="working_hours_center_local"
                           widget="text"
                           invisible="not is_center"/>
                </group>

                <group invisible="not is_center">
                    <field name="period_start_frozen"
                           invisible="not is_freeze_for_report"/>
                    <field name="period_end_frozen"
                           invisible="not is_freeze_for_report"/>
                    <field name="is_freeze_for_report"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="period_start"
                           invisible="is_freeze_for_report"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="period_end"
                           invisible="is_freeze_for_report"
                           groups="tennis_club.group_admin_full_access"/>
                </group>

                <group invisible="not is_center">
                    <field name="total_money_for_period"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="filter_profitable_customer_visit_id"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="count_for_period"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="money_for_period"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="filter_profitable_instructor_id"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="profit_for_period"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="filter_most_visited_training_id"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="count_for_period_training"
                           readonly="1"
                           groups="tennis_club.group_admin_full_access"/>
                    <field name="worker_ids"
                           groups="tennis_club.group_admin_full_access">
                        <list>
                            <field name="name"/>
                            <field name="count_trainings_done"/>
                            <field name="count_customers_in_training"/>
                            <field name="profit_to_center_total"/>
                            <field name="salary_period"/>
                            <field name="profit_to_center_center"/>
                        </list>
                    </field>
                </group>

            </form>
        </field>
    </record>
</odoo>
